# 외판원 순회(TSP: Traveling Salesperson Probelm)

## TSP란?
- **외판원 순회(TSP: Traveling Salesperson Problem)** 란 도시들이 있고 특정 도시에서 도시로 이동할 때 드는 비용이 주어졌을 때 불특정한 도시에서 출발해서 모든 도시를 돌고 다시 출발 도시로 돌아왔을 때 드는 최소 비용을 구하는 문제입니다.
- 외판원 순회는 NP문제로 이번에 소개할 알고리즘은 N이 16개 이하일 때 DP와 비트마스크를 이용하여 구하는 방법입니다.
> * DP는 특정 도시들을 방문한 상태일 때 최소 비용을 저장해 놓고 이를 사용합니다.
> * 비트마스크는 특정 도시를 방문한 상태를 저장할 때 사용합니다.

## TSP 기본 원리
- **DP**는 특정 도시들을 방문한 상태일 때 최소 비용을 저장해 놓고 이를 사용합니다.
- **비트마스크**는 특정 도시를 방문한 상태를 저장할 때 사용합니다.

> - *예를 들어서 1~3번 도시가 있다고 했을 때, 110(2)는 2,3번 도시를 방문한 상태입니다. 110(2)를 십진수로 바꿔보면 6(1x22 + 1x21 + 0x20)이 됩니다.*
> - *즉, 이진수로 봤을 때 오른쪽에서 부터 i번째 수가 1이면 i번 도시가 방문, 0이면 i번 도시가 미방문인 상태를 뜻합니다.*

- 도시가 3개 일 때, 방문한 도시 상태의 경우의 수는 23(8)이고 이를 정리해보면 다음 표와 같습니다. 

|NUM|이진수|십진수|3번 도시|2번 도시|1번 도시|
|---|------|-----|-------|--------|-------|
|1  |000   |0    |x      |x       |x      |
|2  |001   |1    |x      |x       |o      |
|3  |010   |2    |x      |o       |x      |
|4  |011   |3    |x      |o       |o      |
|5  |100   |4    |o      |x       |o      |
|6  |101   |5    |x      |x       |x      |
|7  |110   |6    |o      |o       |x      |
|8  |111   |7    |o      |o       |o      |


- TSP는 위에서 언급했다시피 불특정한 도시에서 출발해서 모든 도시를 돌고 다시 출발 도시로 돌아왔을 때 드는 최소 비용을 구하는 문제입니다.
- 여기서 하나 생각해볼게 **출발도시를 어디로 하느냐** 입니다.
- 출발도시를 정해주지 않는데 사실 어떠한 도시를 출발도시로 하던지 모든 도시를 돌아서 다시 출발도시로 돌아오는데 드는 최소 비용은 같습니다. 다시 출발 도시로 돌아오기 때문에 사이클이 발생하기 때문입니다.

![tsp_linear_example](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fcw8sPF%2FbtqxRuwj6TK%2FaoCEXdB2B9iKtktAp6KG11%2Fimg.png)
- 이렇게 같은 경로를 두번 지나가는 것을 방지하기 위해 DP를 이용하는 것입니다.

![tsp_dp_example](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FNAYG4%2FbtqxRuC77Ie%2FR7LUccEuyHxXgbrDPeLrV1%2Fimg.png)
- 이렇게 1번 도시에서 2,3,4,5 번 도시로 이동했을 때 각 도시에서 남은 도시들을 지나 다시 출발 도시로 돌아오는 최소 비용들 중 최소인 값이 우리가 구하고자 하는 값이 됩니다. 

